import sys
sys.path.append('../src/')

import unittest
from ddt import ddt, data, unpack
import qValueIteration_Tsang_Darren as targetCode # change to file name


tT = {(0, 0): {(0, 1): {(0, 0): 0.09999999999999998, (0, 1): 0.8, (0, 2): 0, (1, 0): 0.09999999999999998, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0.9, (0, 1): 0, (0, 2): 0, (1, 0): 0.09999999999999998, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0.09999999999999998, (0, 1): 0.09999999999999998, (0, 2): 0, (1, 0): 0.8, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0.9, (0, 1): 0.09999999999999998, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (0, 1): {(0, 1): {(0, 0): 0, (0, 1): 0.19999999999999996, (0, 2): 0.8, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0.8, (0, 1): 0.19999999999999996, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0.09999999999999998, (0, 1): 0.8, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0.09999999999999998, (0, 1): 0.8, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (0, 2): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0.9, (1, 0): 0, (1, 2): 0.09999999999999998, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0.8, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0.09999999999999998, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0.09999999999999998, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0.8, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0.09999999999999998, (0, 2): 0.9, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (1, 0): {(0, 1): {(0, 0): 0.09999999999999998, (0, 1): 0, (0, 2): 0, (1, 0): 0.8, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0.09999999999999998, (0, 1): 0, (0, 2): 0, (1, 0): 0.8, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0.19999999999999996, (1, 2): 0, (2, 0): 0.8, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0.8, (0, 1): 0, (0, 2): 0, (1, 0): 0.19999999999999996, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (1, 2): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0.8, (2, 0): 0, (2, 1): 0, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0.09999999999999998, (1, 0): 0, (1, 2): 0.8, (2, 0): 0, (2, 1): 0, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0.19999999999999996, (2, 0): 0, (2, 1): 0, (2, 2): 0.8, (3, 0): 0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0.8, (1, 0): 0, (1, 2): 0.19999999999999996, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (2, 0): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0.09999999999999998, (1, 2): 0, (2, 0): 0, (2, 1): 0.8, (2, 2): 0, (3, 0): 0.09999999999999998, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0.09999999999999998, (1, 2): 0, (2, 0): 0.8, (2, 1): 0, (2, 2): 0, (3, 0): 0.09999999999999998, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0.09999999999999998, (2, 2): 0, (3, 0): 0.8, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0.8, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0.09999999999999998, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (2, 1): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0.09999999999999998, (2, 2): 0.8, (3, 0): 0, (3, 1): 0.09999999999999998, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0.8, (2, 1): 0.09999999999999998, (2, 2): 0, (3, 0): 0, (3, 1): 0.09999999999999998, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0.8, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0.09999999999999998, (2, 1): 0.8, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (2, 2): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0.09999999999999998, (2, 0): 0, (2, 1): 0, (2, 2): 0.8, (3, 0): 0, (3, 1): 0, (3, 2): 0.09999999999999998}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0.09999999999999998, (2, 0): 0, (2, 1): 0.8, (2, 2): 0, (3, 0): 0, (3, 1): 0, (3, 2): 0.09999999999999998}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0.09999999999999998, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0.8}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0.8, (2, 0): 0, (2, 1): 0.09999999999999998, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0}}, (3, 0): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 1.0, (3, 1): 0, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 1.0, (3, 1): 0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 1.0, (3, 1): 0, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 1.0, (3, 1): 0, (3, 2): 0}}, (3, 1): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 1.0, (3, 2): 0}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 1.0, (3, 2): 0}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 1.0, (3, 2): 0}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 1.0, (3, 2): 0}}, (3, 2): {(0, 1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0, (3, 2): 0.9}, (0, -1): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0.09999999999999998, (3, 0): 0, (3, 1): 0.8, (3, 2): 0.09999999999999998}, (1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0, (3, 0): 0, (3, 1): 0.09999999999999998, (3, 2): 0.9}, (-1, 0): {(0, 0): 0, (0, 1): 0, (0, 2): 0, (1, 0): 0, (1, 2): 0, (2, 0): 0, (2, 1): 0, (2, 2): 0.8, (3, 0): 0, (3, 1): 0.09999999999999998, (3, 2): 0.09999999999999998}}}
rT = {(0, 0): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (0, 1): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (0, 2): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (1, 0): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (1, 2): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (2, 0): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (2, 1): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (2, 2): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}, (3, 0): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 0, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 0, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 0, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 0, (3, 1): -1, (3, 2): -0.04}}, (3, 1): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): 0, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): 0, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): 0, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): 0, (3, 2): -0.04}}, (3, 2): {(0, 1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (0, -1): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}, (-1, 0): {(0, 0): -0.04, (0, 1): -0.04, (0, 2): -0.04, (1, 0): -0.04, (1, 2): -0.04, (2, 0): -0.04, (2, 1): -0.04, (2, 2): -0.04, (3, 0): 1, (3, 1): -1, (3, 2): -0.04}}}
getSPrimeRDistribution=lambda s, action: targetCode.getSPrimeRDistributionFull(s, action, tT, rT)
Q = {(0, 0): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (0, 1): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (0, 2): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (1, 0): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (1, 2): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (2, 0): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (2, 1): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (2, 2): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (3, 0): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (3, 1): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, (3, 2): {(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}}


@ddt
class TestForward(unittest.TestCase):
    def assertNumericDictAlmostEqual(self, calculatedDictionary, expectedDictionary, places=7):
        self.assertEqual(calculatedDictionary.keys(), expectedDictionary.keys())
        for key in calculatedDictionary.keys():
            self.assertAlmostEqual(calculatedDictionary[key], expectedDictionary[key], places=places)



    # (s, action, transitionTable, rewardTable, expectedResult)
    @data(
        ((0, 0), (0, 1), tT, rT, {((0, 0), -0.04): 0.09999999999999998, ((0, 1), -0.04): 0.8, ((0, 2), -0.04): 0, ((1, 0), -0.04): 0.09999999999999998, ((1, 2), -0.04): 0, ((2, 0), -0.04): 0, ((2, 1), -0.04): 0, ((2, 2), -0.04): 0, ((3, 0), 1): 0, ((3, 1), -1): 0, ((3, 2), -0.04): 0}),
        ((1, 0), (0, 1), tT, rT, {((0, 0), -0.04): 0.09999999999999998, ((0, 1), -0.04): 0, ((0, 2), -0.04): 0, ((1, 0), -0.04): 0.8, ((1, 2), -0.04): 0, ((2, 0), -0.04): 0.09999999999999998, ((2, 1), -0.04): 0, ((2, 2), -0.04): 0, ((3, 0), 1): 0, ((3, 1), -1): 0, ((3, 2), -0.04): 0}),
        ((2, 0), (0, -1), tT, rT, {((0, 0), -0.04): 0, ((0, 1), -0.04): 0, ((0, 2), -0.04): 0, ((1, 0), -0.04): 0.09999999999999998, ((1, 2), -0.04): 0, ((2, 0), -0.04): 0.8, ((2, 1), -0.04): 0, ((2, 2), -0.04): 0, ((3, 0), 1): 0.09999999999999998, ((3, 1), -1): 0, ((3, 2), -0.04): 0})
    )
    @unpack
    def test_getSPrimeRDistributionFull(self, s, action, transitionTable, rewardTable, expectedResult):
        calculatedResult = targetCode.getSPrimeRDistributionFull(s, action, transitionTable, rewardTable)
        self.assertNumericDictAlmostEqual(calculatedResult, expectedResult, places=7)



    # (s, a, Q, getSPrimeRDistribution, gamma, expectedResult)
    @data(
        ((0, 0), (0, 1), Q, getSPrimeRDistribution, 0.8, -0.04),
        ((0, 0), (0, -1), Q, getSPrimeRDistribution, 0.8, -0.04),
        ((2, 0), (1, 0), Q, getSPrimeRDistribution, 0.8, 0.792)
    )
    @unpack
    def test_updateQFull(self, s, a, Q, getSPrimeRDistribution, gamma, expectedResult):
        calculatedResult = targetCode.updateQFull(s, a, Q, getSPrimeRDistribution, gamma)
        self.assertAlmostEqual(calculatedResult, expectedResult, places=7)


    # (Q, roundingTolerance, expectedResult)
    @data(
        ({(0, 1): 0, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, 1e-6, {(0, 1): 0.25, (0, -1): 0.25, (1, 0): 0.25, (-1, 0): 0.25}),
        ({(0, 1): 1, (0, -1): 0, (1, 0): 0, (-1, 0): 0}, 1e-6, {(0, 1): 1}),
        ({(0, 1): 1, (0, -1): 1+1e-7, (1, 0): 0, (-1, 0): 0}, 1e-6, {(0, 1): .5, (0, -1): .5})
    )
    @unpack
    def test_getPolicyFull(self, Q, roundingTolerance, expectedResult):
        calculatedResult = targetCode.getPolicyFull(Q, roundingTolerance)
        self.assertNumericDictAlmostEqual(calculatedResult, expectedResult, places=7)

    def tearDown(self):
        pass

if __name__ == '__main__':
    unittest.main(verbosity=2)